<div class="flex h-screen w-full">
  <!-- Sidebar -->
  <div class="bg-sidebar text-sidebar-foreground border-r border-sidebar-border" [class.w-64]="!sidebarCollapsed()" [class.w-16]="sidebarCollapsed()">
    <!-- Header -->
    <div class="border-b border-sidebar-border p-4">
      <div class="flex items-center gap-2">
        <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
          <svg class="w-4 h-4 text-primary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
          </svg>
        </div>
        @if (!sidebarCollapsed()) {
          <div>
            <h2 class="font-semibold">InternHub</h2>
            <p class="text-sm text-muted-foreground">Admin Panel</p>
          </div>
        }
      </div>
    </div>
    
    <!-- Navigation -->
    <div class="p-2">
      @for (item of navigation; track item.id) {
        <button
          (click)="setActiveSection(item.id)"
          [class]="'w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ' + 
            (activeSection() === item.id 
              ? 'bg-sidebar-accent text-sidebar-accent-foreground' 
              : 'text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground')"
        >
          <!-- Dynamic Icons -->
          @switch (item.icon) {
            @case ('home') {
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
              </svg>
            }
            @case ('users') {
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
              </svg>
            }
            @case ('file-text') {
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
            }
            @case ('clipboard-list') {
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
              </svg>
            }
            @case ('star') {
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
              </svg>
            }
            @case ('folder') {
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
              </svg>
            }
            @case ('bar-chart-3') {
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
              </svg>
            }
          }
          
          @if (!sidebarCollapsed()) {
            <span>{{ item.name }}</span>
            @if (item.badge) {
              <span class="ml-auto bg-secondary text-secondary-foreground px-2 py-1 text-xs rounded-full">
                {{ item.badge }}
              </span>
            }
          }
        </button>
      }
    </div>

    <!-- Footer -->
    <div class="mt-auto p-4 border-t border-sidebar-border">
      <button
        (click)="logout()"
        [class]="'w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground'"
      >
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
        </svg>
        @if (!sidebarCollapsed()) {
          <span>Logout</span>
        }
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="flex-1 flex flex-col">
    <!-- Header -->
    <header class="border-b border-border bg-card p-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <button
            (click)="toggleSidebar()"
            class="p-2 hover:bg-accent rounded-md"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
          <h1 class="capitalize">{{ getCurrentSectionName() }}</h1>
        </div>
        
        <div class="flex items-center gap-2">
          <button class="p-2 hover:bg-accent rounded-md">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5-5-5h5zm0 0V9a6 6 0 10-12 0v8" />
            </svg>
          </button>
          <div class="w-8 h-8 bg-muted rounded-full flex items-center justify-center">
            <span class="text-sm">{{ getUserInitials() }}</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Content Area -->
    <main class="flex-1 overflow-auto p-6 bg-background">
      @switch (activeSection()) {
        @case ('dashboard') {
          <app-dashboard (navigate)="setActiveSection($event)"></app-dashboard>
        }
        @case ('interns') {
          <app-intern-directory></app-intern-directory>
        }
        @case ('applications') {
          <div class="text-center py-12 text-muted-foreground">Applications section coming soon...</div>
        }
        @case ('tasks') {
          <div class="text-center py-12 text-muted-foreground">Task Management section coming soon...</div>
        }
        @case ('evaluations') {
          <div class="text-center py-12 text-muted-foreground">Evaluations section coming soon...</div>
        }
        @case ('documents') {
          <div class="text-center py-12 text-muted-foreground">Documents section coming soon...</div>
        }
        @case ('analytics') {
          <div class="text-center py-12 text-muted-foreground">Analytics section coming soon...</div>
        }
        @default {
          <app-dashboard (navigate)="setActiveSection($event)"></app-dashboard>
        }
      }
    </main>
  </div>
</div>