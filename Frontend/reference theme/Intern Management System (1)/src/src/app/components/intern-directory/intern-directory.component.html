<div class="space-y-6">
  <!-- Header -->
  <div class="flex justify-between items-center">
    <div>
      <h1 class="text-2xl font-semibold">Intern Directory</h1>
      <p class="text-muted-foreground">Manage and view all interns</p>
    </div>
    <button
      (click)="openAddInternDialog()"
      class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
    >
      <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
      </svg>
      Add New Intern
    </button>
  </div>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
      <div class="flex flex-row items-center justify-between space-y-0 pb-2">
        <h3 class="tracking-tight text-sm font-medium">Total Interns</h3>
        <svg class="h-4 w-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
        </svg>
      </div>
      <div class="text-2xl font-bold">{{ internService.totalInterns() }}</div>
    </div>

    <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
      <div class="flex flex-row items-center justify-between space-y-0 pb-2">
        <h3 class="tracking-tight text-sm font-medium">Active</h3>
        <svg class="h-4 w-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </div>
      <div class="text-2xl font-bold">{{ internService.activeInterns() }}</div>
    </div>

    <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
      <div class="flex flex-row items-center justify-between space-y-0 pb-2">
        <h3 class="tracking-tight text-sm font-medium">Completed</h3>
        <svg class="h-4 w-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </div>
      <div class="text-2xl font-bold">{{ internService.completedInterns() }}</div>
    </div>
  </div>

  <!-- Filters -->
  <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-6">
    <h3 class="font-semibold leading-none tracking-tight mb-4">Search & Filter</h3>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Search Input -->
      <div class="space-y-2">
        <label for="search" class="text-sm font-medium">Search Interns</label>
        <div class="relative">
          <svg class="absolute left-3 top-3 h-4 w-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
          <input
            id="search"
            type="text"
            [value]="searchTerm()"
            (input)="onSearchChange($event)"
            placeholder="Search by name, email, or university..."
            class="flex h-10 w-full rounded-md border border-input bg-input-background pl-10 pr-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
          />
        </div>
      </div>

      <!-- Department Filter -->
      <div class="space-y-2">
        <label for="department" class="text-sm font-medium">Department</label>
        <select
          id="department"
          [value]="selectedDepartment()"
          (change)="onDepartmentChange($event)"
          class="flex h-10 w-full rounded-md border border-input bg-input-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
        >
          @for (dept of departments; track dept) {
            <option [value]="dept">{{ dept === 'all' ? 'All Departments' : dept }}</option>
          }
        </select>
      </div>

      <!-- Status Filter -->
      <div class="space-y-2">
        <label for="status" class="text-sm font-medium">Status</label>
        <select
          id="status"
          [value]="selectedStatus()"
          (change)="onStatusChange($event)"
          class="flex h-10 w-full rounded-md border border-input bg-input-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
        >
          @for (status of statuses; track status) {
            <option [value]="status">{{ status === 'all' ? 'All Statuses' : status | titlecase }}</option>
          }
        </select>
      </div>
    </div>
  </div>

  <!-- Interns Table -->
  <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
    <div class="p-6 pb-0">
      <h3 class="font-semibold leading-none tracking-tight">Interns ({{ filteredInterns().length }})</h3>
      <p class="text-sm text-muted-foreground">Complete list of interns with their details</p>
    </div>
    <div class="p-6">
      @if (filteredInterns().length === 0) {
        <div class="text-center py-12">
          <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
          </svg>
          <h3 class="mt-2 text-sm font-semibold text-gray-900">No interns found</h3>
          <p class="mt-1 text-sm text-gray-500">Try adjusting your search or filter criteria.</p>
        </div>
      } @else {
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead>
              <tr class="border-b">
                <th class="text-left py-3 px-4 font-medium text-sm">Intern</th>
                <th class="text-left py-3 px-4 font-medium text-sm">Position</th>
                <th class="text-left py-3 px-4 font-medium text-sm">Department</th>
                <th class="text-left py-3 px-4 font-medium text-sm">University</th>
                <th class="text-left py-3 px-4 font-medium text-sm">Start Date</th>
                <th class="text-left py-3 px-4 font-medium text-sm">Status</th>
                <th class="text-left py-3 px-4 font-medium text-sm">Rating</th>
                <th class="text-left py-3 px-4 font-medium text-sm">Actions</th>
              </tr>
            </thead>
            <tbody>
              @for (intern of filteredInterns(); track intern.id) {
                <tr class="border-b last:border-b-0 hover:bg-muted/50">
                  <td class="py-4 px-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 bg-muted rounded-full flex items-center justify-center">
                        <span class="text-sm font-medium">{{ intern.avatar }}</span>
                      </div>
                      <div>
                        <p class="font-medium text-sm">{{ intern.name }}</p>
                        <p class="text-xs text-muted-foreground">{{ intern.email }}</p>
                      </div>
                    </div>
                  </td>
                  <td class="py-4 px-4">
                    <p class="text-sm">{{ intern.position }}</p>
                    <p class="text-xs text-muted-foreground">{{ intern.mentor }}</p>
                  </td>
                  <td class="py-4 px-4 text-sm">{{ intern.department }}</td>
                  <td class="py-4 px-4 text-sm">{{ intern.university }}</td>
                  <td class="py-4 px-4 text-sm">{{ formatDate(intern.startDate) }}</td>
                  <td class="py-4 px-4">
                    <span class="px-2 py-1 text-xs rounded-full font-medium" [class]="getStatusBadgeClass(intern.status)">
                      {{ intern.status | titlecase }}
                    </span>
                  </td>
                  <td class="py-4 px-4 text-sm">
                    {{ getRatingStars(intern.rating) }}
                    @if (intern.rating !== null) {
                      <span class="text-xs text-muted-foreground ml-1">({{ intern.rating }})</span>
                    }
                  </td>
                  <td class="py-4 px-4">
                    <div class="flex items-center gap-2">
                      <button
                        (click)="editIntern(intern.id)"
                        class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 w-8"
                        title="Edit"
                      >
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                      </button>
                      <button
                        (click)="viewInternProfile(intern.id)"
                        class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-8 w-8"
                        title="View Details"
                      >
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                        </svg>
                      </button>
                      <button
                        (click)="deleteIntern(intern.id)"
                        class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-destructive hover:text-destructive-foreground h-8 w-8"
                        title="Delete"
                      >
                        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                        </svg>
                      </button>
                    </div>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      }
    </div>
  </div>
</div>

<!-- Add Intern Dialog (Placeholder) -->
@if (showAddInternDialog()) {
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
      <h3 class="text-lg font-semibold mb-4">Add New Intern</h3>
      <p class="text-muted-foreground mb-4">This dialog would contain the add intern form.</p>
      <button
        (click)="closeAddInternDialog()"
        class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"
      >
        Close
      </button>
    </div>
  </div>
}